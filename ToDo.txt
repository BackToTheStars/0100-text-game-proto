Схемы:

Контексты:
https://docs.google.com/drawings/d/1BL40I0eJM7N-OKbTD5wKJu41GaTD9fGCEMUu4fy99hc/edit

Структура фронтенда:
https://docs.google.com/drawings/d/1ahOdc6fiwPpsVIdKXo3v62KZY1CB9ZYpRdFpb0Kw-Fo/edit

ToDo:

Переделка на React:
  - цвета Comment
  - Связи на мини-карте
  - убирание шапки хода по желанию
  - изменение структуры базы данных под новый интерфейс, проверка целостности данных, скрипты

Функциональные фичи + важные и срочные:
  - Не рендерить те div ходов, которые не находятся на экране и в его ближайших окрестностях + lazy loading
        - переделываем turns в React
  - при переключении типа на видео после записи адреса видео в источник текста/картинки - ошибка    18.01.21. 
  - откорректировать позиционирование ходов при пересохранении одного хода                          01.04.21.
  - при создании большого хода (Пушкин, "Поэмы"), страница редактирования хода надолго уходит в астрал.
  - Прокрутка для комментария
  

  - удобный быстрый ввод кода доступа в игру из самой игры                                          07.05.21.
  - зона прибытия хода из другой игры (+ на миникарте), переброска хода из другой игры              05.05.21.
  // - сделать чтобы если мини-карта высокая, то уменьшить её ширину, настраиваемые параметры       01.04.21.
  - сделать так, чтобы ход из одной игры можно было стянуть в другую                                26.01.21.
  - проверять хеши на уникальность                                                                  25.01.21.
  // - когда нажали кнопку "Save Field", перейти из режима "REC" в "просмотр"
  - сделать правую панель чата                                                                      20.01.21.
  - добавить в таблицу игр столбец, сколько в игре ходов
  - добавить start и end в video iframe: https://developers.google.com/youtube/player_parameters 
  - скрытие header и элементов управления (для коллекций искусства)                                 16.01.21.
  - Генерация картинок скриншотов игр
  - Minimap игрового поля, для быстрой по нему навигации, как в Starcraft        (делаем)           14.12.20.
          - Схлопывание текста до жёлтых цитат - сжатие текста до значимых фрагментов
          - сделать линию к участку фотографии / картинки , с красной рамкой                        20.11.20.
          - Разместить в качестве хода документ PDF 
  - Сделать возможность замещения фона дудлами
  - сделать индикаторы при скролле, что наверху или внизу остаются линии связей, и их число
  - изменение цвета комментария, для разных игроков и вопросов
  - написать функцию размещения вопроса (зелёный)                                                   30.09.20.
  - Вывести текст, что говорят в видео (captions) в текст под видео
  - Перенести все кнопки хода вниз, под текст? Или выезжающее меню кнопок при hover над ходом
  - ссылка на gifyu при загрузке картинки, в идеале - просто перетаскивание, как в Telegram         07.05.21.
  

 Важные, но не срочные:

  - сделать свойство игры "private"
  - написать скрипт преобразования текста из википедии
  - при создании большого хода (Пушкин, "Поэмы"), страница редактирования хода надолго уходит в астрал.
    PayloadTooLargeError: request entity too large (при создании хода с длинным текстом, доклад 7 в заметках)
  - починить кнопки Scale, масштабирует некорректно                                                 23.09.20.
  - readme                                                                                          23.09.20. 
  - API Mongoose
  - Миграция на Typescript / Nest.js / client-server / React
  - Вынести логику MouseMove в отдельный файл
  - вынести логику создания хода в отдельный файл?

 Баги: 
 
  - некоторые видео не работают, хотя вроде всё корректно скопировано                               26.01.21.

 Вопросы:
  - 

 мелкие:
  - слить вместе два CSS на клиенте
  - подставлять дату сегодня при создании хода                                                      18.05.21.

 Выполненные:
  - Mouse movements for block
  - Сохранение ТextBox в базу данных
  - Вынести все переменные окружения в .env и добавить его в gitignore
  - Сохранение позиций TextBox в базе данных, чтобы при открытии блоки оставались на тех же местах
  - Изменение размера TextBox в ширину и высоту
  - Mouse movements for game field
        - храним в базе центр экрана
  - Подсвечивание текста цитаты, Editor  - Разместить в качестве хода картинку + где её хранить? 
        - хотелось бы только лёгкую ссылку, а не мегабайтные данные.
  - Баг при создании хода - не отображается содержимое 
  - Сохранение TextBox изменённого размера в базе данных
  - Добавить функцию DeleteButton для хода (кнопка есть, но не работает)
  - Можно использовать Axios вместо Ajax? - Fetch / Nest.js
  - Красная линия связи от одной жёлтой цитаты к другой 
        - когда рисуется линия, то ходы нельзя двигать - баг
        - client.js строка 45 - функция удаления линии логической связи  
        - при клике нажимать кнопку сдвигания всех линий назад, за ходы?
  - Сохранение в базе данных точных позиций скролла для ходов при Save Field                         04.10.20.
  - Разместить в качестве хода видео Youtube (не отображается - почему?)     (script-140)
  - сделать кнопку убирания левой панели классов прочь с экрана                                      23.09.20.
  - Добавить функцию рисования красной рамки на фотографии и красной линии логической связи с ней    23.09.20.
  - Написать функцию размещения комментария                                                          14.10.20.
  - Убрать с экрана те красные линии, которые уехали при скролле вверх или вниз                      16.10.20.
  - откорректировать размер модального окна по высоте, увеличить размер шрифта, скролл               18.10.20.
  - поставить Webpack
  - справа и слева от картинки залить поля чёрным                                                    21.10.20.
  - добавить в модальное окно возможность редактирования ссылки на фотографию и видео                21.10.20.
  - Добавить внизу хода вебсайт-ссылку и дату создания источника 
    даты, и ссылки на источник хода. Если стираем ссылку, то остаётся только текст.
  - Увеличение картинки при изменении размеров хода (баг)                                            10.10.20.
  - Создание классов
  - Сохранение классов в базе данных игры
  - Сделать сокращение оригинальной ссылки до www.abcdef.com                                         13.12.20.
  - Закруглить углы ходов как у Mac                                                                  12.12.20.
  - Изменить кнопки Edit и Delete на fontAwesome                                                     13.12.20.
  - Сделать сокращение оригинальной ссылки до www.abcdef.com                                         13.12.20.
  - Сделать переход по ссылке под ходом на оригинальную ссылку                                       13.12.20.
  - при клике вне модального окна - закрыть его без сохранения                                       13.12.20.
  - убрать белую рамку вокруг игрового поля
  - разместить вебсайт на Heroku                                                                     12.12.20.
  - Написать функцию «Delete» кнопки удаления subclass
  - сделать консоль - например, "поле сохранено" - вверху справа появляется и исчезает надпись.      12.21.20.
    (см. как это сделано в Chrome)  
  - иногда при перезагрузке глючит всё поле, сбиваются все позиции линий и ходов.                    14.10.20.
    При перезагрузке страницы всё исправляется.
  - глючит сохранение текста с картинкой в модельном окне - картинка пропадает при подсветке жёлтым  23.09.20.
  - продумать модульность и архитектуру для дальнейшего рефакторинга (Nest.js, React, классы и проч.)
  - изменение API бакенда на стандарты REST + автотесты Postman                                      17.12.20.
  - сделать кнопку перехода из игры обратно, на экран многих игр                                     05.01.21.
  - сделать сохранение хода в конкретной игре, сейчас все сохраняются в Dev                          05.01.21.
  - слили старые базы данных (SimpleX)                                                               13.01.21.
  - создали конфигурацию для prettier                                                                13.01.21.
  - Миграция игры SimpleX в новую базу                                                               13.01.21.
  - картинки выводятся с низким разрешением, при высоком разрешении оригинального источника          27.12.20.
    (перешли на https://gifyu.com/)
  - панель классов перестала работать (CRUD классов и суб-классов)
  - при попытке редактирования жёлтых маркеров - ошибка                                       
  - при создании линии связи реакт выдаёт ошибку, но связь создаётся
  - при выходе из модального окна перейти в режим показа красных линий связи
  - Сделать страницу входа на сайт, со списком игр: смотреть / играть                                14.12.20.
  - Дать ROLE_GAME_OWNER возможность редактировать название игры и её скриншот                       08.02.21. 
  - Размещение на heroku версии 1.0. - резмещена 28.02.21.
  - Разграничение прав доступа superuser / игрок / зритель (делаем) - сделали                        11.03.21.
  - сделать красный кружок «REC» после двойного щелчка, когда окно в режиме редактирования           11.03.21.
  - добавить другие цвета выделения в Quill (голубой, зелёный, розовый)                              15.03.21.
  - открытие ссылки хода не в том же окне, а в новом                                                 12.04.21.
  - при сохранении всего поля если перелетаешь, то сломаются позиции многих ходов
  - не давать удалять линии, если у зрителя нет кода доступа игрока + кнопки удаления классов
  - починить часовые пояса (число месяца сохраняется другое)                                         24.04.21.
  - отрисовали дерево связей на мини-карте, граф стал наглядным                                      16.05.21.
  Переделка на React:
      - Классы                                                                                       03.07.21.
      - Консоль событий                                                                              04.07.21.








